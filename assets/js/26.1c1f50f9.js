(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{232:function(t,e,n){"use strict";n.r(e);var o=n(0),s=Object(o.a)({},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"document-documentelement-与-document-body-区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#document-documentelement-与-document-body-区别","aria-hidden":"true"}},[t._v("#")]),t._v(" document.documentElement 与 document.body 区别")]),t._v(" "),n("blockquote",[n("p",[t._v("2018-08-13")])]),t._v(" "),n("p",[t._v("在前端开发中，我们经常需要获取网页中滚动条滚过的长度，获取该值的方式一般通过"),n("code",[t._v("scrollTop")]),t._v("属性，如："),n("code",[t._v("document.body.scrollTop")]),t._v("，或者"),n("code",[t._v("document.documentElement.scrollTop")]),t._v("，这两者都是经常用来获取文档滚动条滚过长度值的方式，他们又有什么区别呢？")]),t._v(" "),n("p",[t._v("之前一直没注意，只到有一天发现了一个 bug:"),n("code",[t._v("document.body.scrollTop")]),t._v(" 拿到的值一直是 0。")]),t._v(" "),n("p",[t._v("在这个之前我们先来了解一下 "),n("code",[t._v("<!DOCTYPE HTML>")]),t._v("是干嘛的？为什么每个页面都需要加上这段声明。")]),t._v(" "),n("blockquote",[n("p",[t._v("doctype 声明不属于 HTML 标签，它是一条指令，告诉浏览器编写页面所用的标记的版本。\n这个声明的目的是防止浏览器在渲染文档时，切换到我们称为“"),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Quirks_Mode_and_Standards_Mode",target:"_blank",rel:"noopener noreferrer"}},[t._v("怪异模式(兼容模式)"),n("OutboundLink")],1),t._v("”的渲染模式。"),n("code",[t._v("<!DOCTYPE html>")]),t._v(" 能确保浏览器按照最佳的相关规范进行渲染，而不是使用一个不符合规范的渲染模式。")])]),t._v(" "),n("p",[n("code",[t._v("document.documentElement")]),t._v(" 与 "),n("code",[t._v("document.body")])]),t._v(" "),n("ul",[n("li",[t._v("document 代表的是整个文档(对于一个网页来说包括整个网页结构)")]),t._v(" "),n("li",[t._v("document.documentElement 是整个文档节点树的根节点，在网页中即 html 标签")]),t._v(" "),n("li",[t._v("document.body 是整个文档 DOM 节点树里的 body 节点，网页中即为 body 标签元素")])]),t._v(" "),n("p",[t._v("但在标准模式下"),n("code",[t._v("document.body.scrollTop")]),t._v("是无效的。")]),t._v(" "),n("blockquote",[n("p",[t._v("从 Chrome 61 开始，标准模式中 document.scrollingElement 已被修正为 document.documentElement。换句话说，这个版本开始标准模式中 document.body.scrollTop 始终都等于 0。")])]),t._v(" "),n("p",[t._v("所以这里建议使用兼容写法：")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" scrollTop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageYOffset"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("或者")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBodyScrollTop")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" el "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n    document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollingElement "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("strong",[t._v("每当这时候我就有一些怀念"),n("code",[t._v("jQuery")]),t._v("了")]),t._v("。")])])},[],!1,null,null,null);e.default=s.exports}}]);